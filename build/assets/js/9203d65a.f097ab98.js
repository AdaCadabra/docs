"use strict";(self.webpackChunksubsquid_docs=self.webpackChunksubsquid_docs||[]).push([[7245],{3905:function(e,r,n){n.d(r,{Zo:function(){return u},kt:function(){return f}});var t=n(67294);function a(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function i(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function o(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?i(Object(n),!0).forEach((function(r){a(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function s(e,r){if(null==e)return{};var n,t,a=function(e,r){if(null==e)return{};var n,t,a={},i=Object.keys(e);for(t=0;t<i.length;t++)n=i[t],r.indexOf(n)>=0||(a[n]=e[n]);return a}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)n=i[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=t.createContext({}),c=function(e){var r=t.useContext(l),n=r;return e&&(n="function"==typeof e?e(r):o(o({},r),e)),n},u=function(e){var r=c(e.components);return t.createElement(l.Provider,{value:r},e.children)},d={inlineCode:"code",wrapper:function(e){var r=e.children;return t.createElement(t.Fragment,{},r)}},p=t.forwardRef((function(e,r){var n=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),p=c(n),f=a,m=p["".concat(l,".").concat(f)]||p[f]||d[f]||i;return n?t.createElement(m,o(o({ref:r},u),{},{components:n})):t.createElement(m,o({ref:r},u))}));function f(e,r){var n=arguments,a=r&&r.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=p;var s={};for(var l in r)hasOwnProperty.call(r,l)&&(s[l]=r[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,o[1]=s;for(var c=2;c<i;c++)o[c]=n[c];return t.createElement.apply(null,o)}return t.createElement.apply(null,n)}p.displayName="MDXCreateElement"},26378:function(e,r,n){n.r(r),n.d(r,{assets:function(){return u},contentTitle:function(){return l},default:function(){return f},frontMatter:function(){return s},metadata:function(){return c},toc:function(){return d}});var t=n(87462),a=n(63366),i=(n(67294),n(3905)),o=["components"],s={},l="Nested field queries",c={unversionedId:"reference/openreader-queries/nested-field-queries",id:"reference/openreader-queries/nested-field-queries",title:"Nested field queries",description:"Overview",source:"@site/docs/reference/openreader-queries/nested-field-queries.md",sourceDirName:"reference/openreader-queries",slug:"/reference/openreader-queries/nested-field-queries",permalink:"/docs/reference/openreader-queries/nested-field-queries",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/reference/openreader-queries/nested-field-queries.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"JSON queries",permalink:"/docs/reference/openreader-queries/json-queries"},next:{title:"Resolve Union types/interfaces",permalink:"/docs/reference/openreader-queries/resolve-union-types-interfaces"}},u={},d=[{value:"Overview",id:"overview",level:2}],p={toc:d};function f(e){var r=e.components,n=(0,a.Z)(e,o);return(0,i.kt)("wrapper",(0,t.Z)({},p,n,{components:r,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"nested-field-queries"},"Nested field queries"),(0,i.kt)("h2",{id:"overview"},"Overview"),(0,i.kt)("p",null,"With OpenReader, fields of an Entity that contain fields themselves are shown as nested fields and it is possible to filter these as well. GraphQL queries can traverse related objects and their fields, letting clients fetch lots of related data in one request, instead of making several roundtrips as one would need in a classic REST architecture."),(0,i.kt)("p",null,"As an example, this query searches for all ",(0,i.kt)("inlineCode",{parentName:"p"},"accounts")," whose balance is bigger than a threshold value, fetching the ",(0,i.kt)("inlineCode",{parentName:"p"},"id"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"balance")," simple fields, and the ",(0,i.kt)("inlineCode",{parentName:"p"},"historicalBalances")," ",(0,i.kt)("strong",{parentName:"p"},"nested field"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-graphql"},'query {\n  accounts(orderBy: balance_ASC, where: {balance_gte: "250000000000000000"}) {\n    id\n    balance\n    historicalBalances {\n      balance\n      date\n      id\n    }\n  }\n}\n\n')),(0,i.kt)("p",null,"The nested field is a list (one account can have multiple ",(0,i.kt)("inlineCode",{parentName:"p"},"historicalBalances"),") of objects with fields of their own and these results are filtered, in turn."),(0,i.kt)("p",null,"In this query, the ",(0,i.kt)("inlineCode",{parentName:"p"},"historicalBalances")," are filtered, so that only results created after a certain date are returned"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-graphql"},'query {\n  accounts(orderBy: balance_ASC, where: {balance_gte: "250000000000000000"}) {\n    id\n    balance\n    historicalBalances(where: {date_lte: "2020-10-31T11:59:59.000Z"}, orderBy: balance_DESC) {\n      balance\n      date\n      id\n    }\n  }\n}\n\n')))}f.isMDXComponent=!0}}]);